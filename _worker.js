// <!--GAMFC-->version base on commit: dc2f682518eded9ec383bcdb292a611421418266 - last update: 2025-12-22 00:26:52 UTC <!--GAMFC-END-->.

import{connect}from'cloudflare:sockets';const CONST={'VERSION':'3.0.0','HEALTH_CHECK_TIMEOUT':0x7d0,'DNS_CACHE_TTL':0x12c,'MAX_REQUEST_SIZE':0x400*0x400,'RATE_LIMIT_WINDOW':0x3c,'LOGIN_FAIL_LIMIT':0x5,'DEFAULT_PORT':0x1bb,'BUFFER_SIZE':0x2000,'SALT_ROUNDS':0xa,'TOKEN_EXPIRY':0x15180},Config={'defaultUUID':'d342d11e-d424-4583-b36e-524ab1f0afa4','defaultProxyIP':'edgetunnel.anycast.eu.org','fromEnv'(a){return{'uuid':a['UUID']||this['defaultUUID'],'adminKey':a['ADMIN_KEY']||'','adminPath':a['ADMIN_PATH']||'admin','proxyIPs':(a['PROXYIP']||'')['split'](',')['filter'](Boolean)['map'](b=>b['trim']()),'socks5':{'address':a['SOCKS5']||'','enabled':!!a['SOCKS5']},'enableLandingProxy':a['ENABLE_LANDING_PROXY']==='true','landingPageUrl':a['LANDING_PAGE_URL']||'https://www.google.com','scamalytics':{'key':a['SCAMALYTICS_API_KEY'],'user':a['SCAMALYTICS_USERNAME'],'threshold':parseInt(a['SCAMALYTICS_THRESHOLD']||'100')},'DB':a['DB'],'hostHeaders':(a['HOST_HEADERS']||'')['split'](',')['filter'](Boolean)};}},Database={async 'init'(a){if(!a['DB'])return console['warn']('⚠️\x20D1\x20Database\x20binding\x20(DB)\x20not\x20found.');const b=['CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20users\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uuid\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20email\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20created_at\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20expiration_date\x20TEXT,\x20--\x20YYYY-MM-DD\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20expiration_time\x20TEXT,\x20--\x20HH:MM:SS\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20notes\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20traffic_limit\x20INTEGER,\x20--\x20In\x20Bytes\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20traffic_used\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ip_limit\x20INTEGER\x20DEFAULT\x20-1,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20active\x20INTEGER\x20DEFAULT\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20system_config\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20key\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updated_at\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20proxy_health\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20address\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20latency\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20last_check\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20is_healthy\x20INTEGER\x20DEFAULT\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20access_logs\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ip\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20path\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20timestamp\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20action\x20TEXT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)'];try{const c=b['map'](f=>a['DB']['prepare'](f));await a['DB']['batch'](c);const d=await a['DB']['prepare']('SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users')['first']('count');if(d===0x0){const f=Config['fromEnv'](a);await a['DB']['prepare']('INSERT\x20INTO\x20users\x20(uuid,\x20notes,\x20traffic_limit)\x20VALUES\x20(?,\x20?,\x20?)')['bind'](f['uuid'],'Default\x20Admin\x20User',0x0)['run']();}}catch(g){console['error']('Database\x20initialization\x20failed:',g);}},async 'get'(a,b){if(!a)return null;try{const c=await a['prepare']('SELECT\x20value\x20FROM\x20system_config\x20WHERE\x20key\x20=\x20?')['bind'](b)['first']();return c?c['value']:null;}catch(d){return null;}},async 'put'(a,b,c){if(!a)return;try{await a['prepare']('INSERT\x20OR\x20REPLACE\x20INTO\x20system_config\x20(key,\x20value,\x20updated_at)\x20VALUES\x20(?,\x20?,\x20CURRENT_TIMESTAMP)')['bind'](b,String(c))['run']();}catch(d){console['error']('KV\x20Put\x20Error:',d);}},async 'getUser'(a,b){if(!a)return null;return await a['prepare']('SELECT\x20*\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?')['bind'](b)['first']();},async 'getAllUsers'(a){if(!a)return[];return await a['prepare']('SELECT\x20*\x20FROM\x20users\x20ORDER\x20BY\x20created_at\x20DESC')['all']();},async 'updateUserTraffic'(a,b,c){if(!a)return;try{await a['prepare']('UPDATE\x20users\x20SET\x20traffic_used\x20=\x20traffic_used\x20+\x20?\x20WHERE\x20uuid\x20=\x20?')['bind'](c,b)['run']();}catch(d){console['error']('Traffic\x20Update\x20Error:',d);}},async 'saveProxyHealth'(a,b,c,d){if(!a)return;try{await a['prepare']('INSERT\x20OR\x20REPLACE\x20INTO\x20proxy_health\x20(address,\x20latency,\x20is_healthy,\x20last_check)\x20VALUES\x20(?,\x20?,\x20?,\x20CURRENT_TIMESTAMP)')['bind'](b,c,d?0x1:0x0)['run']();}catch(f){console['error']('Health\x20Save\x20Error:',f);}}},Utils={'base64Encode'(a){const b=new TextEncoder(),c=b['encode'](a);let d='';for(let e=0x0;e<c['length'];e++){d+=String['fromCharCode'](c[e]);}return btoa(d)['replace'](/\+/g,'-')['replace'](/\//g,'_')['replace'](/=+$/,'');},'isValidUUID'(a){const b=/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return b['test'](a);},'addSecurityHeaders'(a){a['set']('Strict-Transport-Security','max-age=63072000;\x20includeSubDomains;\x20preload'),a['set']('X-Content-Type-Options','nosniff'),a['set']('X-Frame-Options','DENY'),a['set']('Referrer-Policy','strict-origin-when-cross-origin'),a['set']('Permissions-Policy','camera=(),\x20microphone=(),\x20usb=()'),a['set']('Alt-Svc','h3=\x22:443\x22;\x20ma=86400,\x20h3-29=\x22:443\x22;\x20ma=86400');},'formatBytes'(a,b=0x2){if(!+a)return'0\x20B';const c=0x400,d=b<0x0?0x0:b,e=['B','KB','MB','GB','TB','PB','EB','ZB','YB'],f=Math['floor'](Math['log'](a)/Math['log'](c));return parseFloat((a/Math['pow'](c,f))['toFixed'](d))+'\x20'+e[f];},'generateNonce'(){let a='';const b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';for(let c=0x0;c<0x10;c++){a+=b['charAt'](Math['floor'](Math['random']()*b['length']));}return a;},async 'isRiskyIP'(a,b){if(!b['scamalytics']['key']||!b['scamalytics']['user'])return![];try{const c='https://api12.scamalytics.com/v3/?username='+b['scamalytics']['user']+'&key='+b['scamalytics']['key']+'&ip='+a,d=await fetch(c);if(!d['ok'])return![];const f=await d['json']();return f['score']>b['scamalytics']['threshold'];}catch(g){return![];}}},ASSETS={'CSS':'\x0a\x20\x20\x20\x20:root\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20--bg-body:\x20#0f172a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20--bg-card:\x20#1e293b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20--bg-input:\x20#334155;\x0a\x20\x20\x20\x20\x20\x20\x20\x20--text-main:\x20#f8fafc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20--text-muted:\x20#94a3b8;\x0a\x20\x20\x20\x20\x20\x20\x20\x20--primary:\x20#3b82f6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20--primary-hover:\x20#2563eb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20--success:\x20#10b981;\x0a\x20\x20\x20\x20\x20\x20\x20\x20--danger:\x20#ef4444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20--warning:\x20#f59e0b;\x0a\x20\x20\x20\x20\x20\x20\x20\x20--border:\x20#334155;\x0a\x20\x20\x20\x20\x20\x20\x20\x20--glass:\x20rgba(30,\x2041,\x2059,\x200.7);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20*\x20{\x20box-sizing:\x20border-box;\x20margin:\x200;\x20padding:\x200;\x20outline:\x20none;\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Inter\x27,\x20-apple-system,\x20BlinkMacSystemFont,\x20\x27Segoe\x20UI\x27,\x20Roboto,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20var(--bg-body);\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20var(--text-main);\x0a\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x20100vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20overflow-x:\x20hidden;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20/*\x20Scrollbar\x20*/\x0a\x20\x20\x20\x20::-webkit-scrollbar\x20{\x20width:\x208px;\x20}\x0a\x20\x20\x20\x20::-webkit-scrollbar-track\x20{\x20background:\x20var(--bg-body);\x20}\x0a\x20\x20\x20\x20::-webkit-scrollbar-thumb\x20{\x20background:\x20var(--border);\x20border-radius:\x204px;\x20}\x0a\x20\x20\x20\x20::-webkit-scrollbar-thumb:hover\x20{\x20background:\x20var(--primary);\x20}\x0a\x0a\x20\x20\x20\x20/*\x20Layout\x20Utils\x20*/\x0a\x20\x20\x20\x20.container\x20{\x20max-width:\x201200px;\x20margin:\x200\x20auto;\x20padding:\x2020px;\x20}\x0a\x20\x20\x20\x20.flex\x20{\x20display:\x20flex;\x20}\x0a\x20\x20\x20\x20.flex-col\x20{\x20flex-direction:\x20column;\x20}\x0a\x20\x20\x20\x20.items-center\x20{\x20align-items:\x20center;\x20}\x0a\x20\x20\x20\x20.justify-between\x20{\x20justify-content:\x20space-between;\x20}\x0a\x20\x20\x20\x20.gap-2\x20{\x20gap:\x200.5rem;\x20}\x0a\x20\x20\x20\x20.gap-4\x20{\x20gap:\x201rem;\x20}\x0a\x20\x20\x20\x20.w-full\x20{\x20width:\x20100%;\x20}\x0a\x20\x20\x20\x20.hidden\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20.grid\x20{\x20display:\x20grid;\x20grid-template-columns:\x20repeat(auto-fit,\x20minmax(280px,\x201fr));\x20gap:\x201.5rem;\x20}\x0a\x0a\x20\x20\x20\x20/*\x20Components\x20*/\x0a\x20\x20\x20\x20.card\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20var(--bg-card);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20var(--border);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x206px\x20-1px\x20rgba(0,\x200,\x200,\x200.1),\x200\x202px\x204px\x20-1px\x20rgba(0,\x200,\x200,\x200.06);\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20transform\x200.2s,\x20box-shadow\x200.2s;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.card:hover\x20{\x20transform:\x20translateY(-2px);\x20box-shadow:\x200\x2010px\x2015px\x20-3px\x20rgba(0,\x200,\x200,\x200.2);\x20}\x0a\x0a\x20\x20\x20\x20.btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.5rem\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20500;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20all\x200.2s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.875rem;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.btn-primary\x20{\x20background-color:\x20var(--primary);\x20color:\x20white;\x20}\x0a\x20\x20\x20\x20.btn-primary:hover\x20{\x20background-color:\x20var(--primary-hover);\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.btn-danger\x20{\x20background-color:\x20rgba(239,\x2068,\x2068,\x200.1);\x20color:\x20var(--danger);\x20border:\x201px\x20solid\x20rgba(239,\x2068,\x2068,\x200.2);\x20}\x0a\x20\x20\x20\x20.btn-danger:hover\x20{\x20background-color:\x20rgba(239,\x2068,\x2068,\x200.2);\x20}\x0a\x0a\x20\x20\x20\x20.btn-ghost\x20{\x20background:\x20transparent;\x20color:\x20var(--text-muted);\x20}\x0a\x20\x20\x20\x20.btn-ghost:hover\x20{\x20color:\x20var(--text-main);\x20background:\x20rgba(255,255,255,0.05);\x20}\x0a\x0a\x20\x20\x20\x20.input\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20var(--bg-body);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20var(--border);\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:\x20var(--text-main);\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.625rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.875rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20border-color\x200.2s;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20.input:focus\x20{\x20border-color:\x20var(--primary);\x20ring:\x202px\x20solid\x20var(--primary);\x20}\x0a\x0a\x20\x20\x20\x20/*\x20Typography\x20*/\x0a\x20\x20\x20\x20h1,\x20h2,\x20h3\x20{\x20font-weight:\x20700;\x20letter-spacing:\x20-0.025em;\x20}\x0a\x20\x20\x20\x20h1\x20{\x20font-size:\x201.875rem;\x20margin-bottom:\x201rem;\x20}\x0a\x20\x20\x20\x20.text-sm\x20{\x20font-size:\x200.875rem;\x20}\x0a\x20\x20\x20\x20.text-xs\x20{\x20font-size:\x200.75rem;\x20}\x0a\x20\x20\x20\x20.text-muted\x20{\x20color:\x20var(--text-muted);\x20}\x0a\x20\x20\x20\x20.text-success\x20{\x20color:\x20var(--success);\x20}\x0a\x20\x20\x20\x20.text-danger\x20{\x20color:\x20var(--danger);\x20}\x0a\x0a\x20\x20\x20\x20/*\x20Tables\x20*/\x0a\x20\x20\x20\x20.table-container\x20{\x20overflow-x:\x20auto;\x20border-radius:\x208px;\x20border:\x201px\x20solid\x20var(--border);\x20}\x0a\x20\x20\x20\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20text-align:\x20left;\x20}\x0a\x20\x20\x20\x20th\x20{\x20background-color:\x20rgba(0,0,0,0.2);\x20padding:\x2012px\x2016px;\x20font-size:\x200.75rem;\x20text-transform:\x20uppercase;\x20color:\x20var(--text-muted);\x20font-weight:\x20600;\x20}\x0a\x20\x20\x20\x20td\x20{\x20padding:\x2016px;\x20border-top:\x201px\x20solid\x20var(--border);\x20font-size:\x200.875rem;\x20}\x0a\x20\x20\x20\x20tr:hover\x20td\x20{\x20background-color:\x20rgba(255,255,255,0.02);\x20}\x0a\x0a\x20\x20\x20\x20/*\x20Animations\x20*/\x0a\x20\x20\x20\x20@keyframes\x20fadeIn\x20{\x20from\x20{\x20opacity:\x200;\x20transform:\x20translateY(10px);\x20}\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x20}\x0a\x20\x20\x20\x20.animate-fade\x20{\x20animation:\x20fadeIn\x200.4s\x20ease-out\x20forwards;\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20/*\x20Toast\x20Notification\x20*/\x0a\x20\x20\x20\x20.toast\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x20bottom:\x2020px;\x20right:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20var(--bg-card);\x20border:\x201px\x20solid\x20var(--border);\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x2010px\x2015px\x20-3px\x20rgba(0,0,0,0.3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(100px);\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20all\x200.3s\x20cubic-bezier(0.68,\x20-0.55,\x200.265,\x201.55);\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x201000;\x20display:\x20flex;\x20align-items:\x20center;\x20gap:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.toast.show\x20{\x20transform:\x20translateY(0);\x20opacity:\x201;\x20}\x0a\x20\x20\x20\x20.toast.success\x20{\x20border-left:\x204px\x20solid\x20var(--success);\x20}\x0a\x20\x20\x20\x20.toast.error\x20{\x20border-left:\x204px\x20solid\x20var(--danger);\x20}\x0a\x0a\x20\x20\x20\x20/*\x20Badges\x20*/\x0a\x20\x20\x20\x20.badge\x20{\x20padding:\x202px\x208px;\x20border-radius:\x2099px;\x20font-size:\x200.7rem;\x20font-weight:\x20600;\x20}\x0a\x20\x20\x20\x20.badge-success\x20{\x20background:\x20rgba(16,\x20185,\x20129,\x200.1);\x20color:\x20var(--success);\x20border:\x201px\x20solid\x20rgba(16,\x20185,\x20129,\x200.2);\x20}\x0a\x20\x20\x20\x20.badge-warning\x20{\x20background:\x20rgba(245,\x20158,\x2011,\x200.1);\x20color:\x20var(--warning);\x20border:\x201px\x20solid\x20rgba(245,\x20158,\x2011,\x200.2);\x20}\x0a\x0a\x20\x20\x20\x20/*\x20QR\x20Code\x20Container\x20*/\x0a\x20\x20\x20\x20.qr-box\x20{\x20background:\x20white;\x20padding:\x2010px;\x20border-radius:\x208px;\x20display:\x20inline-block;\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20/*\x20Login\x20Screen\x20Specifics\x20*/\x0a\x20\x20\x20\x20.login-wrapper\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x20min-height:\x20100vh;\x20background:\x20radial-gradient(circle\x20at\x20center,\x20#1e293b\x200%,\x20#0f172a\x20100%);\x20}\x0a\x20\x20\x20\x20.login-card\x20{\x20width:\x20100%;\x20max-width:\x20400px;\x20}\x0a\x20\x20\x20\x20','ICONS':{'DASHBOARD':'<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><rect\x20x=\x223\x22\x20y=\x223\x22\x20width=\x227\x22\x20height=\x227\x22/><rect\x20x=\x2214\x22\x20y=\x223\x22\x20width=\x227\x22\x20height=\x227\x22/><rect\x20x=\x2214\x22\x20y=\x2214\x22\x20width=\x227\x22\x20height=\x227\x22/><rect\x20x=\x223\x22\x20y=\x2214\x22\x20width=\x227\x22\x20height=\x227\x22/></svg>','USERS':'<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><path\x20d=\x22M17\x2021v-2a4\x204\x200\x200\x200-4-4H5a4\x204\x200\x200\x200-4\x204v2\x22/><circle\x20cx=\x229\x22\x20cy=\x227\x22\x20r=\x224\x22/><path\x20d=\x22M23\x2021v-2a4\x204\x200\x200\x200-3-3.87\x22/><path\x20d=\x22M16\x203.13a4\x204\x200\x200\x201\x200\x207.75\x22/></svg>','SETTINGS':'<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><circle\x20cx=\x2212\x22\x20cy=\x2212\x22\x20r=\x223\x22/><path\x20d=\x22M19.4\x2015a1.65\x201.65\x200\x200\x200\x20.33\x201.82l.06.06a2\x202\x200\x200\x201\x200\x202.83\x202\x202\x200\x200\x201-2.83\x200l-.06-.06a1.65\x201.65\x200\x200\x200-1.82-.33\x201.65\x201.65\x200\x200\x200-1\x201.51V21a2\x202\x200\x200\x201-2\x202\x202\x202\x200\x200\x201-2-2v-.09A1.65\x201.65\x200\x200\x200\x209\x2019.4a1.65\x201.65\x200\x200\x200-1.82.33l-.06.06a2\x202\x200\x200\x201-2.83\x200\x202\x202\x200\x200\x201\x200-2.83l.06-.06a1.65\x201.65\x200\x200\x200\x20.33-1.82\x201.65\x201.65\x200\x200\x200-1.51-1H3a2\x202\x200\x200\x201-2-2\x202\x202\x200\x200\x201\x202-2h.09A1.65\x201.65\x200\x200\x200\x204.6\x209a1.65\x201.65\x200\x200\x200-.33-1.82l-.06-.06a2\x202\x200\x200\x201\x200-2.83\x202\x202\x200\x200\x201\x202.83\x200l.06.06a1.65\x201.65\x200\x200\x200\x201.82.33H9a1.65\x201.65\x200\x200\x200\x201-1.51V3a2\x202\x200\x200\x201\x202-2\x202\x202\x200\x200\x201\x202\x202v.09a1.65\x201.65\x200\x200\x200\x201\x201.51\x201.65\x201.65\x200\x200\x200\x201.82-.33l.06-.06a2\x202\x200\x200\x201\x202.83\x200\x202\x202\x200\x200\x201\x200\x202.83l-.06.06a1.65\x201.65\x200\x200\x200-.33\x201.82V9a1.65\x201.65\x200\x200\x200\x201.51\x201H21a2\x202\x200\x200\x201\x202\x202\x202\x202\x200\x200\x201-2\x202h-.09a1.65\x201.65\x200\x200\x200-1.51\x201z\x22/></svg>','LOGOUT':'<svg\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><path\x20d=\x22M9\x2021H5a2\x202\x200\x200\x201-2-2V5a2\x202\x200\x200\x201\x202-2h4\x22/><polyline\x20points=\x2216\x2017\x2021\x2012\x2016\x207\x22/><line\x20x1=\x2221\x22\x20y1=\x2212\x22\x20x2=\x229\x22\x20y2=\x2212\x22/></svg>','COPY':'<svg\x20width=\x2216\x22\x20height=\x2216\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><rect\x20x=\x229\x22\x20y=\x229\x22\x20width=\x2213\x22\x20height=\x2213\x22\x20rx=\x222\x22\x20ry=\x222\x22/><path\x20d=\x22M5\x2015H4a2\x202\x200\x200\x201-2-2V4a2\x202\x200\x200\x201\x202-2h9a2\x202\x200\x200\x201\x202\x202v1\x22/></svg>','QR':'<svg\x20width=\x2216\x22\x20height=\x2216\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><rect\x20x=\x223\x22\x20y=\x223\x22\x20width=\x227\x22\x20height=\x227\x22/><rect\x20x=\x2214\x22\x20y=\x223\x22\x20width=\x227\x22\x20height=\x227\x22/><rect\x20x=\x2214\x22\x20y=\x2214\x22\x20width=\x227\x22\x20height=\x227\x22/><rect\x20x=\x223\x22\x20y=\x2214\x22\x20width=\x227\x22\x20height=\x227\x22/><path\x20d=\x22M10\x2010h.01\x22/><path\x20d=\x22M14\x2014h.01\x22/><path\x20d=\x22M10\x2014h.01\x22/><path\x20d=\x22M14\x2010h.01\x22/></svg>','CHECK':'<svg\x20width=\x2216\x22\x20height=\x2216\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><polyline\x20points=\x2220\x206\x209\x2017\x204\x2012\x22/></svg>','REFRESH':'<svg\x20width=\x2216\x22\x20height=\x2216\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><polyline\x20points=\x2223\x204\x2023\x2010\x2017\x2010\x22/><polyline\x20points=\x221\x2020\x201\x2014\x207\x2014\x22/><path\x20d=\x22M3.51\x209a9\x209\x200\x200\x201\x2014.85-3.36L23\x2010M1\x2014l4.64\x204.36A9\x209\x200\x200\x200\x2020.49\x2015\x22/></svg>'}};function buildAdminUI(a,b){return'<!DOCTYPE\x20html>\x0a<html\x20lang=\x22en\x22>\x0a<head>\x0a\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,\x20initial-scale=1.0\x22>\x0a\x20\x20\x20\x20<title>VLESS\x20Manager\x20|\x20Admin</title>\x0a\x20\x20\x20\x20<style\x20nonce=\x22'+b+'\x22>'+ASSETS['CSS']+'</style>\x0a\x20\x20\x20\x20<script\x20src=\x22https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js\x22\x20integrity=\x22sha512-CNgIRecGo7nphbeZ04Sc13ka07paqdeTu0WR1IM4kNcpmBAUSHSQX0FslNhTDadL4O5SAGapGt4FodqL8My0mA==\x22\x20crossorigin=\x22anonymous\x22\x20referrerpolicy=\x22no-referrer\x22></script>\x0a</head>\x0a<body\x20class=\x22bg-body\x20text-main\x22>\x0a\x20\x20\x20\x20<div\x20id=\x22app\x22\x20class=\x22flex\x20h-screen\x20overflow-hidden\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20Sidebar\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20<aside\x20class=\x22w-64\x20bg-card\x20h-full\x20fixed\x20md:static\x20transform\x20-translate-x-full\x20md:translate-x-0\x20transition-transform\x20duration-200\x20border-r\x20border-border\x20z-30\x20flex\x20flex-col\x22\x20id=\x22sidebar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-6\x20border-b\x20border-border\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20gap-2\x20m-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-primary\x22>⚡</span>\x20VLESS<span\x20class=\x22text-muted\x22>PRO</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22md:hidden\x20text-muted\x22\x20onclick=\x22toggleSidebar()\x22>✕</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<nav\x20class=\x22flex-1\x20p-4\x20space-y-2\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22router(\x27dashboard\x27)\x22\x20class=\x22w-full\x20btn\x20btn-ghost\x20justify-start\x20active\x22\x20id=\x22nav-dashboard\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+ASSETS['ICONS']['DASHBOARD']+'\x20Dashboard\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22router(\x27users\x27)\x22\x20class=\x22w-full\x20btn\x20btn-ghost\x20justify-start\x22\x20id=\x22nav-users\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+ASSETS['ICONS']['USERS']+'\x20User\x20Management\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22router(\x27settings\x27)\x22\x20class=\x22w-full\x20btn\x20btn-ghost\x20justify-start\x22\x20id=\x22nav-settings\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+ASSETS['ICONS']['SETTINGS']+'\x20Settings\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</nav>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border-t\x20border-border\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-3\x20px-2\x20mb-4\x20bg-black/20\x20p-2\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20rounded-full\x20bg-success\x20animate-pulse\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-muted\x20font-mono\x22>System\x20Online</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22logout()\x22\x20class=\x22w-full\x20btn\x20btn-danger\x20justify-start\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+ASSETS['ICONS']['LOGOUT']+'\x20Sign\x20Out\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</aside>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20Main\x20Content\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20<main\x20class=\x22flex-1\x20h-full\x20overflow-y-auto\x20relative\x20w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20Mobile\x20Header\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<header\x20class=\x22md:hidden\x20h-16\x20border-b\x20border-border\x20flex\x20items-center\x20justify-between\x20px-4\x20bg-card\x20sticky\x20top-0\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-lg\x22>Dashboard</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleSidebar()\x22\x20class=\x22btn\x20btn-ghost\x20p-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20width=\x2224\x22\x20height=\x2224\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20stroke=\x22currentColor\x22><path\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22\x20stroke-width=\x222\x22\x20d=\x22M4\x206h16M4\x2012h16M4\x2018h16\x22/></svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</header>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22container\x20py-8\x20px-4\x20md:px-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20Top\x20Bar\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20md:flex-row\x20md:items-center\x20justify-between\x20gap-4\x20mb-8\x20animate-fade\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22\x20id=\x22page-title\x22>Overview</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-muted\x20text-sm\x20mt-1\x22>Real-time\x20server\x20statistics\x20and\x20management</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-card\x20px-4\x20py-2\x20rounded-lg\x20border\x20border-border\x20text-xs\x20font-mono\x20text-muted\x20hidden\x20md:block\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22server-time\x22>Loading...</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22refreshData()\x22\x20class=\x22btn\x20btn-ghost\x20border\x20border-border\x20bg-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+ASSETS['ICONS']['REFRESH']+'\x20Refresh\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20Views\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22view-dashboard\x22\x20class=\x22view-section\x20animate-fade\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20Stats\x20Grid\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20gap-6\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20Total\x20Users\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20relative\x20overflow-hidden\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20right-0\x20top-0\x20p-4\x20opacity-5\x20group-hover:scale-110\x20transition-transform\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+ASSETS['ICONS']['USERS']['replace']('width=\x2220\x22','width=\x2280\x22')['replace']('height=\x2220\x22','height=\x2280\x22')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-muted\x20font-medium\x20uppercase\x20tracking-wider\x22>Total\x20Users</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-3xl\x20font-bold\x20mt-2\x22\x20id=\x22stat-total-users\x22>0</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20mt-4\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22badge\x20badge-success\x22\x20id=\x22stat-active-users\x22>0\x20Active</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20Traffic\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20relative\x20overflow-hidden\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-muted\x20font-medium\x20uppercase\x20tracking-wider\x22>Total\x20Traffic</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-3xl\x20font-bold\x20mt-2\x20text-primary\x22\x20id=\x22stat-total-traffic\x22>0\x20B</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-border\x20h-1.5\x20rounded-full\x20mt-4\x20overflow-hidden\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-primary\x20h-full\x20rounded-full\x20animate-pulse\x22\x20style=\x22width:\x2060%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20Health\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20relative\x20overflow-hidden\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-muted\x20font-medium\x20uppercase\x20tracking-wider\x22>Proxy\x20Health</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-3\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20rounded-full\x20bg-success\x20shadow-[0_0_10px_var(--success)]\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>Healthy</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-muted\x20mt-3\x20font-mono\x22>Latency:\x20<span\x20id=\x22stat-latency\x22\x20class=\x22text-success\x22>...</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20Node\x20Info\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20relative\x20overflow-hidden\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-muted\x20font-medium\x20uppercase\x20tracking-wider\x22>Active\x20Node</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-lg\x20font-bold\x20mt-2\x20truncate\x20text-warning\x22\x20title=\x22'+a['proxyIPs'][0x0]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(a['proxyIPs'][0x0]?a['proxyIPs'][0x0]['split'](':')[0x0]:'Auto')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-muted\x20mt-2\x22>D1\x20Database\x20Connected</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22view-users\x22\x20class=\x22view-section\x20hidden\x20animate-fade\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20md:flex-row\x20justify-between\x20items-center\x20mb-6\x20gap-4\x20border-b\x20border-border\x20pb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-lg\x20font-bold\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Registered\x20Users\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22badge\x20bg-border\x20text-muted\x22\x20id=\x22user-count-badge\x22>0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-3\x20w-full\x20md:w-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22search-input\x22\x20onkeyup=\x22filterUsers()\x22\x20placeholder=\x22Search\x20UUID\x20or\x20Notes...\x22\x20class=\x22input\x20md:w-64\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22openModal(\x27create\x27)\x22\x20class=\x22btn\x20btn-primary\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20+\x20New\x20User\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22table-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Status</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Details</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Traffic</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Expiry</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Actions</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody\x20id=\x22user-table-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr><td\x20colspan=\x225\x22\x20class=\x22text-center\x20py-8\x20text-muted\x22>Loading...</td></tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22view-settings\x22\x20class=\x22view-section\x20hidden\x20animate-fade\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-lg\x20font-bold\x20mb-4\x22>Worker\x20Configuration</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20gap-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20text-muted\x20mb-2\x22>Admin\x20Path</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22/'+a['adminPath']+'\x22\x20readonly\x20class=\x22input\x20bg-black/20\x20font-mono\x20text-muted\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20text-muted\x20mb-2\x22>Landing\x20Page\x20Proxy</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-10\x20h-6\x20rounded-full\x20'+(a['enableLandingProxy']?'bg-success':'bg-border')+'\x20relative\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-white\x20rounded-full\x20absolute\x20top-1\x20'+(a['enableLandingProxy']?'right-1':'left-1')+'\x20transition-all\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>'+(a['enableLandingProxy']?'Enabled':'Disabled')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</main>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20<!--\x20Create\x20User\x20Modal\x20-->\x0a\x20\x20\x20\x20<div\x20id=\x22modal-create\x22\x20class=\x22fixed\x20inset-0\x20bg-black/80\x20z-50\x20hidden\x20backdrop-blur-sm\x20flex\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20w-full\x20max-w-lg\x20relative\x20animate-fade\x22\x20onclick=\x22event.stopPropagation()\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-6\x20border-b\x20border-border\x20pb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>Create\x20New\x20User</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22closeModal(\x27create\x27)\x22\x20class=\x22text-muted\x20hover:text-white\x20text-2xl\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22create-user-form\x22\x20onsubmit=\x22event.preventDefault();\x20saveUser();\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20text-muted\x20mb-1\x22>User\x20Note\x20/\x20Name</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22new-note\x22\x20class=\x22input\x22\x20placeholder=\x22e.g.\x20My\x20Phone\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20text-muted\x20mb-1\x22>Traffic\x20Limit\x20(GB)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22new-limit\x22\x20class=\x22input\x22\x20placeholder=\x220\x20=\x20Unlimited\x22\x20min=\x220\x22\x20value=\x220\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20text-muted\x20mb-1\x22>IP\x20Limit</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22new-ip-limit\x22\x20class=\x22input\x22\x20placeholder=\x22-1\x20=\x20Unlimited\x22\x20min=\x22-1\x22\x20value=\x22-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20text-muted\x20mb-1\x22>Expiration</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22date\x22\x20id=\x22new-exp-date\x22\x20class=\x22input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22time\x22\x20id=\x22new-exp-time\x22\x20class=\x22input\x22\x20value=\x2223:59\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20onclick=\x22setQuickDate(30)\x22\x20class=\x22btn\x20btn-ghost\x20text-xs\x20border\x20border-border\x20py-1\x22>30\x20Days</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20onclick=\x22setQuickDate(90)\x22\x20class=\x22btn\x20btn-ghost\x20text-xs\x20border\x20border-border\x20py-1\x22>90\x20Days</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20onclick=\x22setQuickDate(365)\x22\x20class=\x22btn\x20btn-ghost\x20text-xs\x20border\x20border-border\x20py-1\x22>1\x20Year</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-end\x20gap-3\x20mt-8\x20pt-4\x20border-t\x20border-border\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20onclick=\x22closeModal(\x27create\x27)\x22\x20class=\x22btn\x20btn-ghost\x22>Cancel</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22btn\x20btn-primary\x22>Create\x20User</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<!--\x20QR\x20Modal\x20-->\x0a\x20\x20\x20\x20<div\x20id=\x22modal-qr\x22\x20class=\x22fixed\x20inset-0\x20bg-black/90\x20z-50\x20hidden\x20backdrop-blur-sm\x20flex\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20w-full\x20max-w-sm\x20relative\x20animate-fade\x20text-center\x22\x20onclick=\x22event.stopPropagation()\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22closeModal(\x27qr\x27)\x22\x20class=\x22absolute\x20top-4\x20right-4\x20text-muted\x20hover:text-white\x20text-xl\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-6\x22>Connection\x20QR</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20p-4\x20rounded-xl\x20inline-block\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-qr-target\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-muted\x20mb-4\x22>Scan\x20with\x20V2RayNG,\x20Shadowrocket,\x20or\x20Nekoray</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyToClip(window.currentQRLink)\x22\x20class=\x22btn\x20btn-primary\x20w-full\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+ASSETS['ICONS']['COPY']+'\x20Copy\x20Link\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20<!--\x20Toast\x20-->\x0a\x20\x20\x20\x20<div\x20id=\x22toast\x22\x20class=\x22toast\x22></div>\x0a\x0a\x20\x20\x20\x20<!--\x20Client\x20Logic\x20embedded\x20-->\x0a\x20\x20\x20\x20<script\x20nonce=\x22'+b+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20State\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20users\x20=\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20stats\x20=\x20{};\x0a\x20\x20\x20\x20\x20\x20\x20\x20window.currentQRLink\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Navigation\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20router(view)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.querySelectorAll(\x27.view-section\x27).forEach(el\x20=>\x20el.classList.add(\x27hidden\x27));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27view-\x27\x20+\x20view).classList.remove(\x27hidden\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.querySelectorAll(\x27nav\x20button\x27).forEach(el\x20=>\x20el.classList.remove(\x27active\x27,\x20\x27text-primary\x27));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27nav-\x27\x20+\x20view).classList.add(\x27active\x27,\x20\x27text-primary\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Mobile\x20close\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20sidebar\x20=\x20document.getElementById(\x27sidebar\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!sidebar.classList.contains(\x27-translate-x-full\x27)\x20&&\x20window.innerWidth\x20<\x20768)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20toggleSidebar();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(view\x20===\x20\x27users\x27)\x20fetchUsers();\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20toggleSidebar()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20sb\x20=\x20document.getElementById(\x27sidebar\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sb.classList.toggle(\x27-translate-x-full\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Data\x20Fetching\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20fetchStats()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20res\x20=\x20await\x20fetch(\x27?action=get_stats\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20res.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27stat-total-users\x27).innerText\x20=\x20data.total;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27stat-active-users\x27).innerText\x20=\x20data.active\x20+\x20\x27\x20Active\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27stat-total-traffic\x27).innerText\x20=\x20formatBytes(data.traffic);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27user-count-badge\x27).innerText\x20=\x20data.total;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch(e)\x20{\x20console.error(e);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20fetchUsers()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20tbody\x20=\x20document.getElementById(\x27user-table-body\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tbody.innerHTML\x20=\x20\x27<tr><td\x20colspan=\x225\x22\x20class=\x22text-center\x20py-8\x20text-muted\x22>Refreshing...</td></tr>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20res\x20=\x20await\x20fetch(\x27?action=get_users\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20users\x20=\x20await\x20res.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20renderUsers(users);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch(e)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tbody.innerHTML\x20=\x20\x27<tr><td\x20colspan=\x225\x22\x20class=\x22text-center\x20py-8\x20text-danger\x22>Failed\x20to\x20load\x20users</td></tr>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20renderUsers(list)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20tbody\x20=\x20document.getElementById(\x27user-table-body\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(list.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tbody.innerHTML\x20=\x20\x27<tr><td\x20colspan=\x225\x22\x20class=\x22text-center\x20py-8\x20text-muted\x22>No\x20users\x20found</td></tr>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tbody.innerHTML\x20=\x20list.map(u\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20isExp\x20=\x20u.expiration_date\x20&&\x20new\x20Date(u.expiration_date\x20+\x20\x27T\x27\x20+\x20u.expiration_time)\x20<\x20new\x20Date();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20limit\x20=\x20u.traffic_limit\x20?\x20formatBytes(u.traffic_limit)\x20:\x20\x27∞\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20used\x20=\x20formatBytes(u.traffic_used);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20statusHtml\x20=\x20isExp\x20?\x20\x27<span\x20class=\x22badge\x20badge-warning\x22>Expired</span>\x27\x20:\x20\x27<span\x20class=\x22badge\x20badge-success\x22>Active</span>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20`<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>${statusHtml}</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-bold\x22>${u.notes\x20||\x20\x27No\x20Label\x27}</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-muted\x20font-mono\x20mt-1\x20opacity-70\x22>${u.uuid}</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x22>${used}\x20/\x20${limit}</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-24\x20bg-border\x20h-1\x20rounded-full\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-primary\x20h-full\x20rounded-full\x22\x20style=\x22width:\x20${Math.min(100,\x20(u.traffic_used\x20/\x20(u.traffic_limit\x20||\x201))\x20*\x20100)}%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22text-sm\x22>${u.expiration_date\x20||\x20\x27Lifetime\x27}</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22showQR(\x27${u.uuid}\x27)\x22\x20class=\x22btn\x20btn-ghost\x20p-1\x20text-primary\x22\x20title=\x22QR\x20Code\x22>'+ASSETS['ICONS']['QR']+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyLink(\x27${u.uuid}\x27)\x22\x20class=\x22btn\x20btn-ghost\x20p-1\x20text-primary\x22\x20title=\x22Copy\x20Link\x22>'+ASSETS['ICONS']['COPY']+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22deleteUser(\x27${u.uuid}\x27)\x22\x20class=\x22btn\x20btn-ghost\x20p-1\x20text-danger\x22\x20title=\x22Delete\x22>✕</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}).join(\x27\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20filterUsers()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20term\x20=\x20document.getElementById(\x27search-input\x27).value.toLowerCase();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20filtered\x20=\x20users.filter(u\x20=>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(u.notes\x20&&\x20u.notes.toLowerCase().includes(term))\x20||\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20u.uuid.includes(term)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20renderUsers(filtered);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Actions\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20saveUser()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20note\x20=\x20document.getElementById(\x27new-note\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20limit\x20=\x20document.getElementById(\x27new-limit\x27).value\x20*\x201024\x20*\x201024\x20*\x201024;\x20//\x20GB\x20to\x20Bytes\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipLimit\x20=\x20document.getElementById(\x27new-ip-limit\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20expDate\x20=\x20document.getElementById(\x27new-exp-date\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20expTime\x20=\x20document.getElementById(\x27new-exp-time\x27).value;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!note)\x20return\x20showToast(\x27Note\x20is\x20required\x27,\x20\x27error\x27);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20res\x20=\x20await\x20fetch(\x27?action=create_user\x27,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20note,\x20traffic_limit:\x20limit,\x20ip_limit:\x20ipLimit,\x20expiration_date:\x20expDate,\x20expiration_time:\x20expTime\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(res.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27User\x20created\x20successfully\x27,\x20\x27success\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20closeModal(\x27create\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fetchUsers();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fetchStats();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27create-user-form\x27).reset();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27Failed\x20to\x20create\x20user\x27,\x20\x27error\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch(e)\x20{\x20showToast(e.message,\x20\x27error\x27);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20deleteUser(uuid)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!confirm(\x27Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20user?\x27))\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20res\x20=\x20await\x20fetch(\x27?action=delete_user\x27,\x20{\x20method:\x20\x27POST\x27,\x20body:\x20JSON.stringify({\x20uuid\x20})\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(res.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showToast(\x27User\x20deleted\x27,\x20\x27success\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fetchUsers();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fetchStats();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch(e)\x20{\x20showToast(\x27Error\x20deleting\x20user\x27,\x20\x27error\x27);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20generateLink(uuid)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20host\x20=\x20window.location.hostname;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20`vless://${uuid}@${host}:443?encryption=none&security=tls&type=ws&host=${host}&path=%2F#${host}`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20copyLink(uuid)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20copyToClip(generateLink(uuid));\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20copyToClip(str)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20navigator.clipboard.writeText(str).then(()\x20=>\x20showToast(\x27Link\x20copied!\x27,\x20\x27success\x27));\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20showQR(uuid)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.currentQRLink\x20=\x20generateLink(uuid);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20container\x20=\x20document.getElementById(\x27admin-qr-target\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20container.innerHTML\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20new\x20QRCode(container,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text:\x20window.currentQRLink,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20200,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x20200,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20colorDark\x20:\x20\x22#000000\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20colorLight\x20:\x20\x22#ffffff\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20correctLevel\x20:\x20QRCode.CorrectLevel.M\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20openModal(\x27qr\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Helpers\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20formatBytes(bytes)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!+bytes)\x20return\x20\x270\x20B\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20k\x20=\x201024;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20sizes\x20=\x20[\x27B\x27,\x20\x27KB\x27,\x20\x27MB\x27,\x20\x27GB\x27,\x20\x27TB\x27];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20i\x20=\x20Math.floor(Math.log(bytes)\x20/\x20Math.log(k));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20parseFloat((bytes\x20/\x20Math.pow(k,\x20i)).toFixed(2))\x20+\x20\x27\x20\x27\x20+\x20sizes[i];\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20showToast(msg,\x20type)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20t\x20=\x20document.getElementById(\x27toast\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20t.textContent\x20=\x20msg;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20t.className\x20=\x20`toast\x20show\x20${type}`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20t.classList.remove(\x27show\x27),\x203000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20openModal(id)\x20{\x20document.getElementById(\x27modal-\x27+id).classList.remove(\x27hidden\x27);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20closeModal(id)\x20{\x20document.getElementById(\x27modal-\x27+id).classList.add(\x27hidden\x27);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20setQuickDate(days)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20d\x20=\x20new\x20Date();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20d.setDate(d.getDate()\x20+\x20days);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27new-exp-date\x27).value\x20=\x20d.toISOString().split(\x27T\x27)[0];\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20refreshData()\x20{\x20fetchStats();\x20if(!document.getElementById(\x27view-users\x27).classList.contains(\x27hidden\x27))\x20fetchUsers();\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20logout()\x20{\x20document.cookie\x20=\x20\x22auth_token=;\x20path=/;\x20expires=Thu,\x2001\x20Jan\x201970\x2000:00:01\x20GMT;\x22;\x20window.location.reload();\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Init\x0a\x20\x20\x20\x20\x20\x20\x20\x20setInterval(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27server-time\x27).innerText\x20=\x20new\x20Date().toLocaleTimeString();\x0a\x20\x20\x20\x20\x20\x20\x20\x20},\x201000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20fetchStats();\x0a\x20\x20\x20\x20</script>\x0a</body>\x0a</html>';}function buildLoginPage(a,b){return'<!DOCTYPE\x20html>\x0a<html\x20lang=\x22en\x22>\x0a<head>\x0a\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,\x20initial-scale=1.0\x22>\x0a\x20\x20\x20\x20<title>Login\x20|\x20VLESS\x20Manager</title>\x0a\x20\x20\x20\x20<style>'+ASSETS['CSS']+'</style>\x0a</head>\x0a<body>\x0a\x20\x20\x20\x20<div\x20class=\x22login-wrapper\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20login-card\x20animate-fade\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-primary\x20mb-2\x22>⚡\x20VLESS\x20PRO</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-muted\x22>Secure\x20Access\x20Gateway</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(b?'<div\x20class=\x22bg-red-500/10\x20border\x20border-red-500/20\x20text-danger\x20p-3\x20rounded-lg\x20mb-6\x20text-sm\x20text-center\x22>'+b+'</div>':'')+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20action=\x22/'+a+'\x22\x20method=\x22POST\x22\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20text-muted\x20mb-2\x22>Admin\x20Key</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22password\x22\x20name=\x22password\x22\x20class=\x22input\x20text-center\x20text-lg\x20tracking-widest\x22\x20placeholder=\x22••••••••\x22\x20required\x20autofocus>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22btn\x20btn-primary\x20w-full\x20py-3\x20mt-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Authenticate\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-muted\x22>Protected\x20by\x20Cloudflare\x20Workers</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a</body>\x0a</html>';}function buildUserUI(a,b){const c=a['traffic_limit']>0x0?Math['min'](0x64,a['traffic_used']/a['traffic_limit']*0x64)['toFixed'](0x1):0x0,d=c>0x5a?'bg-danger':c>0x4b?'bg-warning':'bg-success',e=a['traffic_limit']?(a['traffic_limit']/0x40000000)['toFixed'](0x2):'∞',f=(a['traffic_used']/0x40000000)['toFixed'](0x2);return'<!DOCTYPE\x20html>\x0a<html\x20lang=\x22en\x22>\x0a<head>\x0a\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,\x20initial-scale=1.0\x22>\x0a\x20\x20\x20\x20<title>User\x20Portal\x20|\x20VLESS</title>\x0a\x20\x20\x20\x20<style>'+ASSETS['CSS']+'</style>\x0a\x20\x20\x20\x20<script\x20src=\x22https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js\x22></script>\x0a</head>\x0a<body>\x0a\x20\x20\x20\x20<div\x20class=\x22container\x20py-8\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20Header\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20mb-8\x20animate-fade\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>My\x20Subscription</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-muted\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2\x20h-2\x20bg-success\x20rounded-full\x22></span>\x20Active\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20hidden\x20sm:block\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-muted\x20uppercase\x20font-bold\x22>Expires\x20On</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-mono\x22>'+(a['expiration_date']||'Never')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20Usage\x20Card\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20mb-6\x20animate-fade\x22\x20style=\x22animation-delay:\x200.1s\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-end\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-muted\x20uppercase\x20font-bold\x20mb-1\x22>Data\x20Usage</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+f+'\x20<span\x20class=\x22text-sm\x20text-muted\x20font-normal\x22>GB</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-muted\x22>of\x20'+e+'\x20GB</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-border\x20h-4\x20rounded-full\x20overflow-hidden\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+d+'\x20h-full\x20rounded-full\x20transition-all\x20duration-1000\x22\x20style=\x22width:\x20'+c+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20Connection\x20Links\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20mb-6\x20animate-fade\x22\x20style=\x22animation-delay:\x200.2s\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22font-bold\x20mb-4\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+ASSETS['ICONS']['SETTINGS']+'\x20Connection\x20Profiles\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyLink(\x27vless\x27)\x22\x20class=\x22btn\x20btn-ghost\x20border\x20border-border\x20justify-between\x20group\x20h-auto\x20py-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-primary/10\x20text-primary\x20p-2\x20rounded\x20text-xs\x20font-bold\x22>VLESS</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-sm\x22>Universal\x20Link</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-muted\x22>V2RayNG,\x20Nekoray,\x20V2Box</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+ASSETS['ICONS']['COPY']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22openQR()\x22\x20class=\x22btn\x20btn-ghost\x20border\x20border-border\x20justify-between\x20group\x20h-auto\x20py-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-purple-500/10\x20text-purple-500\x20p-2\x20rounded\x20text-xs\x20font-bold\x22\x20style=\x22color:#a855f7\x22>QR</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-sm\x22>Show\x20QR\x20Code</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-muted\x22>Scan\x20to\x20connect</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+ASSETS['ICONS']['QR']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20gap-3\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyLink(\x27clash\x27)\x22\x20class=\x22btn\x20btn-ghost\x20border\x20border-border\x20justify-center\x20gap-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-warning\x22>●</span>\x20Copy\x20Clash\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyLink(\x27singbox\x27)\x22\x20class=\x22btn\x20btn-ghost\x20border\x20border-border\x20justify-center\x20gap-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-success\x22>●</span>\x20Copy\x20Sing-Box\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20Apps\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20animate-fade\x22\x20style=\x22animation-delay:\x200.3s\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22font-bold\x20mb-4\x22>Download\x20Clients</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-4\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22https://play.google.com/store/apps/details?id=com.v2ray.ang\x22\x20target=\x22_blank\x22\x20class=\x22btn\x20btn-ghost\x20border\x20border-border\x20text-xs\x22>🤖\x20V2RayNG</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22https://github.com/MatsuriDayo/nekoray/releases\x22\x20target=\x22_blank\x22\x20class=\x22btn\x20btn-ghost\x20border\x20border-border\x20text-xs\x22>💻\x20Nekoray</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22https://apps.apple.com/us/app/streisand/id6450534064\x22\x20target=\x22_blank\x22\x20class=\x22btn\x20btn-ghost\x20border\x20border-border\x20text-xs\x22>🍎\x20Streisand</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22https://apps.apple.com/us/app/v2box-v2ray-client/id6446814690\x22\x20target=\x22_blank\x22\x20class=\x22btn\x20btn-ghost\x20border\x20border-border\x20text-xs\x22>📱\x20V2Box</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<!--\x20QR\x20Modal\x20-->\x0a\x20\x20\x20\x20<div\x20id=\x22modal-qr\x22\x20class=\x22fixed\x20inset-0\x20bg-black/90\x20z-50\x20hidden\x20backdrop-blur-sm\x20flex\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20w-full\x20max-w-sm\x20relative\x20animate-fade\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22closeModal()\x22\x20class=\x22absolute\x20top-4\x20right-4\x20text-muted\x20hover:text-white\x20text-xl\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-6\x22>Scan\x20to\x20Connect</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20p-4\x20rounded-xl\x20inline-block\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22qrcode\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-muted\x22>Use\x20V2RayNG,\x20Shadowrocket,\x20or\x20Streisand</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20id=\x22toast\x22\x20class=\x22toast\x22></div>\x0a\x0a\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20CONFIG\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uuid:\x20\x22'+a['uuid']+'\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20host:\x20window.location.hostname,\x0a\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vlessLink\x20=\x20`vless://${CONFIG.uuid}@${CONFIG.host}:443?encryption=none&security=tls&sni=${CONFIG.host}&fp=chrome&type=ws&host=${CONFIG.host}&path=%2F#${CONFIG.host}`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Init\x20QR\x0a\x20\x20\x20\x20\x20\x20\x20\x20new\x20QRCode(document.getElementById(\x22qrcode\x22),\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text:\x20vlessLink,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20220,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x20220,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20colorDark\x20:\x20\x22#000000\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20colorLight\x20:\x20\x22#ffffff\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20correctLevel\x20:\x20QRCode.CorrectLevel.M\x0a\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20copyLink(type)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20link\x20=\x20vlessLink;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(type\x20===\x20\x27clash\x27)\x20link\x20=\x20location.origin\x20+\x20\x27/sub/\x27\x20+\x20CONFIG.uuid\x20+\x20\x27?format=clash\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(type\x20===\x20\x27singbox\x27)\x20link\x20=\x20location.origin\x20+\x20\x27/sub/\x27\x20+\x20CONFIG.uuid\x20+\x20\x27?format=singbox\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20navigator.clipboard.writeText(link).then(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20t\x20=\x20document.getElementById(\x27toast\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20t.textContent\x20=\x20\x27Copied\x20to\x20clipboard!\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20t.className\x20=\x20\x27toast\x20show\x20success\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20t.classList.remove(\x27show\x27),\x202000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20openQR()\x20{\x20document.getElementById(\x27modal-qr\x27).classList.remove(\x27hidden\x27);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20closeModal()\x20{\x20document.getElementById(\x27modal-qr\x27).classList.add(\x27hidden\x27);\x20}\x0a\x20\x20\x20\x20</script>\x0a</body>\x0a</html>';}async function handleApiRequest(a,b){const c=new URL(a['url']),d=c['searchParams']['get']('action');try{switch(d){case'get_stats':{const f=await b['DB']['prepare']('SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users')['first']('count'),g=await b['DB']['prepare']('SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users\x20WHERE\x20active\x20=\x201')['first']('count'),h=await b['DB']['prepare']('SELECT\x20SUM(traffic_used)\x20as\x20total\x20FROM\x20users')['first']('total')||0x0;return new Response(JSON['stringify']({'total':f,'active':g,'traffic':h}),{'headers':{'Content-Type':'application/json'}});}case'get_users':{const i=await Database['getAllUsers'](b['DB']);return new Response(JSON['stringify'](i),{'headers':{'Content-Type':'application/json'}});}case'create_user':{const j=await a['json'](),k=crypto['randomUUID']();return await b['DB']['prepare']('INSERT\x20INTO\x20users\x20(uuid,\x20notes,\x20traffic_limit,\x20ip_limit,\x20expiration_date,\x20expiration_time)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?)')['bind'](k,j['note'],j['traffic_limit'],j['ip_limit'],j['expiration_date']||null,j['expiration_time']||null)['run'](),new Response(JSON['stringify']({'success':!![],'uuid':k}),{'headers':{'Content-Type':'application/json'}});}case'delete_user':{const l=await a['json']();return await b['DB']['prepare']('DELETE\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?')['bind'](l['uuid'])['run'](),new Response(JSON['stringify']({'success':!![]}),{'headers':{'Content-Type':'application/json'}});}default:return new Response('Invalid\x20Action',{'status':0x190});}}catch(m){return console['error']('API\x20Error:',m),new Response(JSON['stringify']({'error':m['message']}),{'status':0x1f4,'headers':{'Content-Type':'application/json'}});}}async function vlessOverWSHandler(a,b,c){const d=new WebSocketPair(),[e,f]=Object['values'](d);f['accept']();let g='',h='';const i=(p,q)=>{console['log']('['+g+':'+h+']\x20'+p,q||'');},j=a['headers']['get']('sec-websocket-protocol')||'',k=new ReadableStream({'start'(p){f['addEventListener']('message',s=>{s['data']&&p['enqueue'](s['data']);}),f['addEventListener']('close',()=>{safeCloseWebSocket(f),p['close']();}),f['addEventListener']('error',s=>{i('webSocket\x20has\x20error'),p['error'](s);});const {earlyData:q,error:r}=base64ToArrayBuffer(j);if(r)p['error'](r);else q&&p['enqueue'](q);},'pull'(p){},'cancel'(p){i('ReadableWebSocketStream\x20cancelled:\x20'+p),safeCloseWebSocket(f);}});let l={'value':null},m=null,n=![],o=null;return k['pipeTo'](new WritableStream({async 'write'(p,q){if(n&&m)return m(p);if(l['value']){const B=l['value']['writable']['getWriter']();await B['write'](p),B['releaseLock']();return;}const {hasError:r,message:s,portRemote:t,addressRemote:u,rawDataIndex:v,vlessVersion:w,isUDP:x,uuid:y}=await parseVlessHeader(p,b);if(r){console['error']('[VLESS\x20Error]\x20'+s),q['error'](s),safeCloseWebSocket(f);return;}g=u,h=t+'--'+Math['random']()+'\x20'+(x?'udp':'tcp');const z=await Database['getUser'](b['DB'],y);if(!z){console['error']('[Auth]\x20Invalid\x20UUID:\x20'+y),q['error']('Invalid\x20User');return;}if(x){if(t===0x35){n=!![],o=new Uint8Array([w[0x0],0x0]);const C=await handleUDPOutbound(f,o,i);m=C['write'],m(p['slice'](v));return;}else{q['error']('UDP\x20only\x20supported\x20for\x20DNS\x20(53)');return;}}const A=Config['fromEnv'](b);await handleTCPOutbound(l,u,t,p['slice'](v),f,new Uint8Array([w[0x0],0x0]),i,A,b,y);},'close'(){i('readableWebSocketStream\x20is\x20closed');},'abort'(p){i('readableWebSocketStream\x20is\x20aborted',JSON['stringify'](p));}}))['catch'](p=>{i('readableWebSocketStream\x20pipeTo\x20error',p),safeCloseWebSocket(f);}),new Response(null,{'status':0x65,'webSocket':e});}async function parseVlessHeader(a,b){if(a['byteLength']<0x18)return{'hasError':!![],'message':'invalid\x20data\x20length'};const c=new DataView(a),d=c['getUint8'](0x0),e=new Uint8Array(a['slice'](0x1,0x11)),f=stringifyUUID(e),g=c['getUint8'](0x11),h=c['getUint8'](0x12+g),j=h===0x2,k=0x13+g,l=c['getUint16'](k),m=k+0x2,n=c['getUint8'](m);let o=0x0,p=m+0x1,q='';switch(n){case 0x1:o=0x4,q=new Uint8Array(a['slice'](p,p+o))['join']('.');break;case 0x2:o=c['getUint8'](p),p+=0x1,q=new TextDecoder()['decode'](a['slice'](p,p+o));break;case 0x3:o=0x10,q=new Uint8Array(a['slice'](p,p+o))['reduce']((t,u,v,w)=>v%0x2?t['concat'](w['slice'](v-0x1,v+0x1)):t,[])['map'](s=>s['readUInt16BE'](0x0)['toString'](0x10))['join'](':'),q=[];for(let s=0x0;s<0x8;s++){q['push'](c['getUint16'](p+s*0x2)['toString'](0x10));}q='['+q['join'](':')+']';break;default:return{'hasError':!![],'message':'invalid\x20addressType:\x20'+n};}if(!q)return{'hasError':!![],'message':'address\x20is\x20empty'};const r=p+o;return{'hasError':![],'addressRemote':q,'addressType':n,'portRemote':l,'rawDataIndex':r,'vlessVersion':new Uint8Array([d]),'isUDP':j,'uuid':f};}async function handleTCPOutbound(a,b,c,d,e,f,g,h,i,j){async function k(m,n){if(h['socks5']['enabled']){}const o=connect({'hostname':m,'port':n});a['value']=o,g('connected\x20to\x20'+m+':'+n);const p=o['writable']['getWriter']();return await p['write'](d),p['releaseLock'](),o;}const l=await k(b,c);return l['readable']['pipeTo'](new WritableStream({async 'write'(m,n){j&&i&&i['DB']&&ctx['waitUntil'](Database['updateUserTraffic'](i['DB'],j,m['byteLength']));if(e['readyState']!==0x1){n['error']('webSocket\x20not\x20open');return;}f?(e['send'](await new Blob([f,m])['arrayBuffer']()),f=null):e['send'](m);},'close'(){g('remoteConnection!.readable\x20is\x20closed');},'abort'(m){console['error']('remoteConnection!.readable\x20abort',m);}}))['catch'](m=>{console['error']('remoteSocketToWS\x20error:',m),safeCloseWebSocket(e);}),l;}async function handleUDPOutbound(a,b,c){let d=![];const e=new TransformStream({'start'(g){},'transform'(g,h){for(let i=0x0;i<g['byteLength'];){const j=g['slice'](i,i+0x2),k=new DataView(j)['getUint16'](0x0),l=new Uint8Array(g['slice'](i+0x2,i+0x2+k));i=i+0x2+k,h['enqueue'](l);}},'flush'(g){}});e['readable']['pipeTo'](new WritableStream({async 'write'(g){const h=await fetch('https://1.1.1.1/dns-query',{'method':'POST','headers':{'content-type':'application/dns-message'},'body':g}),i=await h['arrayBuffer'](),j=i['byteLength'],k=new Uint8Array([j>>0x8&0xff,j&0xff]);a['readyState']===0x1&&(c('doh\x20success\x20length:\x20'+j),d?a['send'](await new Blob([k,i])['arrayBuffer']()):(a['send'](await new Blob([b,k,i])['arrayBuffer']()),d=!![]));}}))['catch'](g=>{c('dns\x20pipeTo\x20error',g);});const f=e['writable']['getWriter']();return{'write':g=>f['write'](g)};}function stringifyUUID(a){const b=[...a],c=d=>(d<0x10?'0':'')+d['toString'](0x10);return b['slice'](0x0,0x4)['map'](c)['join']('')+'-'+b['slice'](0x4,0x6)['map'](c)['join']('')+'-'+b['slice'](0x6,0x8)['map'](c)['join']('')+'-'+b['slice'](0x8,0xa)['map'](c)['join']('')+'-'+b['slice'](0xa)['map'](c)['join']('');}function base64ToArrayBuffer(a){if(!a)return{'earlyData':null,'error':null};try{a=a['replace'](/-/g,'+')['replace'](/_/g,'/');const b=atob(a),c=Uint8Array['from'](b,d=>d['charCodeAt'](0x0));return{'earlyData':c['buffer'],'error':null};}catch(d){return{'earlyData':null,'error':d};}}function safeCloseWebSocket(a){try{(a['readyState']===0x1||a['readyState']===0x0)&&a['close']();}catch(b){console['error']('safeCloseWebSocket\x20error',b);}}export default{async 'fetch'(a,b,c){const d=Config['fromEnv'](b);await Database['init'](b);const f=new URL(a['url']),g=a['headers']['get']('Upgrade');if(g==='websocket')return await vlessOverWSHandler(a,b,c);if(f['pathname']==='/robots.txt')return new Response('User-agent:\x20*\x0aDisallow:\x20/admin\x0aDisallow:\x20/api\x0aDisallow:\x20/sub',{'status':0xc8});if(f['pathname']==='/security.txt'||f['pathname']==='/.well-known/security.txt')return new Response('Contact:\x20mailto:admin@'+f['hostname']+'\x0aExpires:\x202030-01-01T00:00:00.000Z\x0aEncryption:\x20'+f['origin']+'/pgp-key.txt',{'status':0xc8});if(f['pathname']['startsWith']('/'+d['adminPath'])){if(a['method']==='POST'&&f['pathname']==='/'+d['adminPath']){const n=await a['formData'](),o=n['get']('password');if(o===d['adminKey']){const p=new Headers();return p['append']('Set-Cookie','auth_token='+d['adminKey']+';\x20Path=/;\x20HttpOnly;\x20Secure;\x20SameSite=Strict;\x20Max-Age=86400'),p['append']('Location','/'+d['adminPath']),new Response(null,{'status':0x12e,'headers':p});}return new Response(buildLoginPage(d['adminPath'],'Invalid\x20Credentials'),{'headers':{'Content-Type':'text/html'}});}const j=a['headers']['get']('Cookie'),k=j?.['split'](';')['find'](q=>q['trim']()['startsWith']('auth_token='))?.['split']('=')[0x1]?.['trim']();if(k!==d['adminKey'])return new Response(buildLoginPage(d['adminPath']),{'headers':{'Content-Type':'text/html'}});if(f['searchParams']['get']('action'))return await handleApiRequest(a,b);const l=Utils['generateNonce'](),m=new Headers({'Content-Type':'text/html'});return Utils['addSecurityHeaders'](m),m['set']('Content-Security-Policy','default-src\x20\x27self\x27;\x20script-src\x20\x27self\x27\x20\x27nonce-'+l+'\x27\x20https://cdnjs.cloudflare.com;\x20style-src\x20\x27self\x27\x20\x27unsafe-inline\x27;\x20font-src\x20\x27self\x27;\x20connect-src\x20\x27self\x27;\x20img-src\x20\x27self\x27\x20data:;'),new Response(buildAdminUI(d,l),{'headers':m});}const h={'toClash'(q,r){return'port:\x207890\x0asocks-port:\x207891\x0aredir-port:\x207892\x0amixed-port:\x207893\x0atproxy-port:\x207895\x0aipv6:\x20false\x0aallow-lan:\x20true\x0amode:\x20rule\x0alog-level:\x20info\x0aexternal-controller:\x20127.0.0.1:9090\x0aproxies:\x0a\x20\x20-\x20name:\x20'+r+'\x0a\x20\x20\x20\x20server:\x20'+r+'\x0a\x20\x20\x20\x20port:\x20443\x0a\x20\x20\x20\x20type:\x20vless\x0a\x20\x20\x20\x20uuid:\x20'+q['uuid']+'\x0a\x20\x20\x20\x20cipher:\x20auto\x0a\x20\x20\x20\x20tls:\x20true\x0a\x20\x20\x20\x20udp:\x20true\x0a\x20\x20\x20\x20skip-cert-verify:\x20true\x0a\x20\x20\x20\x20network:\x20ws\x0a\x20\x20\x20\x20ws-opts:\x0a\x20\x20\x20\x20\x20\x20path:\x20/\x0a\x20\x20\x20\x20\x20\x20headers:\x0a\x20\x20\x20\x20\x20\x20\x20\x20Host:\x20'+r+'\x0aproxy-groups:\x0a\x20\x20-\x20name:\x20PROXY\x0a\x20\x20\x20\x20type:\x20select\x0a\x20\x20\x20\x20proxies:\x0a\x20\x20\x20\x20\x20\x20-\x20'+r+'\x0a\x20\x20\x20\x20\x20\x20-\x20DIRECT\x0arules:\x0a\x20\x20-\x20MATCH,PROXY';},'toSingbox'(q,r){return JSON['stringify']({'log':{'level':'info','timestamp':!![]},'inbounds':[{'type':'tun','tag':'tun-in','inet4_address':'172.19.0.1/30','auto_route':!![],'strict_route':!![]}],'outbounds':[{'type':'vless','tag':'proxy','server':r,'server_port':0x1bb,'uuid':q['uuid'],'flow':'','tls':{'enabled':!![],'server_name':r,'insecure':!![]},'transport':{'type':'ws','path':'/','headers':{'Host':r}}},{'type':'direct','tag':'direct'},{'type':'block','tag':'block'}],'route':{'rules':[{'outbound':'direct','ip_cidr':['geoip:private']},{'outbound':'proxy','port':[0x50,0x1bb]}]}},null,0x2);}};if(f['pathname']['startsWith']('/sub/')){const q=f['pathname']['split']('/')[0x2];if(Utils['isValidUUID'](q)){const r=await Database['getUser'](b['DB'],q);if(r){c['waitUntil'](b['DB']['prepare']('UPDATE\x20users\x20SET\x20active\x20=\x201\x20WHERE\x20uuid\x20=\x20?')['bind'](q)['run']());const s=f['searchParams']['get']('format'),t=f['hostname'];if(s==='clash')return new Response(h['toClash'](r,t),{'headers':{'Content-Type':'text/yaml;\x20charset=utf-8','Content-Disposition':'attachment;\x20filename=\x22'+t+'.yaml\x22'}});if(s==='singbox')return new Response(h['toSingbox'](r,t),{'headers':{'Content-Type':'application/json;\x20charset=utf-8','Content-Disposition':'attachment;\x20filename=\x22'+t+'.json\x22'}});const u=new Headers({'Content-Type':'text/html'});return Utils['addSecurityHeaders'](u),new Response(buildUserUI(r,d),{'headers':u});}return new Response('Subscription\x20invalid\x20or\x20expired.',{'status':0x194});}}if(d['enableLandingProxy'])try{const v=new URL(d['landingPageUrl']),w=new URL(v['origin']+f['pathname']+f['search']),x=new Request(w,{'method':a['method'],'headers':new Headers(a['headers']),'body':a['body'],'redirect':'follow'});x['headers']['set']('Host',v['hostname']),x['headers']['set']('Referer',v['origin']),x['headers']['set']('X-Forwarded-For',a['headers']['get']('CF-Connecting-IP'));const y=await fetch(x),z=new Headers(y['headers']);return z['delete']('Content-Security-Policy'),z['delete']('X-Frame-Options'),Utils['addSecurityHeaders'](z),new Response(y['body'],{'status':y['status'],'statusText':y['statusText'],'headers':z});}catch(A){console['error']('Reverse\x20Proxy\x20Failed:',A);}const i='<!DOCTYPE\x20html>\x0a<html\x20lang=\x22en\x22>\x0a<head>\x0a\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20<title>404\x20Not\x20Found</title>\x0a\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20margin:0;\x20font-family:\x20sans-serif;\x20background:\x20#0f172a;\x20color:\x20#f8fafc;\x20height:\x20100vh;\x20display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x20text-align:\x20center;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.code\x20{\x20font-size:\x208rem;\x20font-weight:\x20900;\x20background:\x20linear-gradient(135deg,\x20#3b82f6,\x20#8b5cf6);\x20-webkit-background-clip:\x20text;\x20-webkit-text-fill-color:\x20transparent;\x20margin:\x200;\x20line-height:\x201;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.msg\x20{\x20font-size:\x201.5rem;\x20color:\x20#94a3b8;\x20margin-top:\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.home\x20{\x20margin-top:\x202rem;\x20display:\x20inline-block;\x20padding:\x200.75rem\x201.5rem;\x20background:\x20rgba(255,255,255,0.1);\x20color:\x20white;\x20text-decoration:\x20none;\x20border-radius:\x208px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.home:hover\x20{\x20background:\x20rgba(255,255,255,0.2);\x20}\x0a\x20\x20\x20\x20</style>\x0a</head>\x0a<body>\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22code\x22>404</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22msg\x22>The\x20requested\x20resource\x20could\x20not\x20be\x20found.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22/\x22\x20class=\x22home\x22>Go\x20Home</a>\x0a\x20\x20\x20\x20</div>\x0a</body>\x0a</html>';return new Response(i,{'status':0x194,'headers':{'Content-Type':'text/html'}});},async 'scheduled'(a,b,c){const d=Config['fromEnv'](b);await Database['init'](b),console['log']('[Cron]\x20Starting\x20Scheduled\x20Tasks...');const f=d['proxyIPs'];if(f['length']>0x0)for(const g of f){const h=Date['now']();try{const i=new AbortController();setTimeout(()=>i['abort'](),CONST['HEALTH_CHECK_TIMEOUT']);const j=await fetch('https://'+g,{'method':'HEAD','signal':i['signal']}),k=Date['now']()-h,l=j['ok']||j['status']===0x194;await Database['saveProxyHealth'](b['DB'],g,k,l),console['log']('[Health]\x20'+g+':\x20'+k+'ms');}catch(m){await Database['saveProxyHealth'](b['DB'],g,0x0,![]),console['log']('[Health]\x20'+g+':\x20Down');}}try{const n=await b['DB']['prepare']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20users\x20SET\x20active\x20=\x200\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20active\x20=\x201\x20AND\x20expiration_date\x20IS\x20NOT\x20NULL\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20datetime(expiration_date\x20||\x20\x27\x20\x27\x20||\x20COALESCE(expiration_time,\x20\x2700:00:00\x27))\x20<\x20datetime(\x27now\x27)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['run']();console['log']('[Cleanup]\x20Disabled\x20'+n['meta']['changes']+'\x20expired\x20users.');}catch(o){console['error']('[Cleanup]\x20Error:',o);}console['log']('[Cron]\x20Tasks\x20Completed.');}};